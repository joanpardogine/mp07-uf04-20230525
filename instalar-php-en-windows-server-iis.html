<!DOCTYPE html>
<html lang="ca">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tutorial - Instalación de IIS en Windows [ Paso a paso ]</title>
  <link rel="stylesheet" href="./css/estils.css">
</head>

<body>
  <main>
    <h1>Instalación de <code>PHP</code> en <code>IIS</code> </h1>
    <article>
      <p>En primer lugar, necesitamos acceder al <a href="./error404.html">sitio
          web de <code>PHP</code> para Windows.</a></p>
      <p>Localice y descargue las versiones no seguras para subprocesos (NTS) de <code>PHP</code>.</p>
      <img src="./img/php-windows-download.png" alt="php-windows-download.png">
      <p>En nuestro ejemplo, se descargó el siguiente archivo:
        <code>php-7.2.9-nts-Win32-VC15-x86.zip</code>.
      </p>
      <p>Cree un directorio llamado <code>PHP</code> en la raíz
        de su unidad <code>C</code>.</p>
      <p>Extraiga el contenido del archivo dentro de la carpeta <code>C:\PHP</code>.</p>
      <img src="./img/Windows-PHP-Folder.png" alt="Windows-PHP-Folder.png">
      <p><code>PHP</code> para Windows requiere la instalación de una versión específica de
        <code>Microsoft Visual Studio</code>.
      </p>
      <p>En nuestro ejemplo, descargamos la compilación del paquete <code>PHP VC15</code>.</p>
      <p><code>PHP Build VC 15</code> requiere la instalación de <code>Microsoft Visual Studio versión 2017</code>.
      </p>
      <img src="./img/PHP-Visual-Studio.png" alt="PHP-Visual-Studio.png">
      <p>Descargue e instale <a href="./error404.html"><code>Microsoft Visual Studio versión 2017 x86</code></a>.</p>
      <img src="./img/Visual-Studio-installation-x86.png" alt="Visual-Studio-installation-x86.png">
      <p>Después de finalizar la instalación de <strong>Visual Studio</strong>, necesitamos agregar
        <code>C:\PHP</code> a la variable de entorno <code>PATH</code>.
      </p>
      <p>Acceda a la ventana <code>Propiedades del sistema</code>.</p>
      <p>Acceda a la pestaña <code>Avanzadas</code> y haga clic en el botón
        <code>Variables de entorno</code>.
      </p>
      <img src="./img/System-properties-windows.png" alt="System-properties-windows.png">
      <p>Seleccione la variable <code>PATH</code> y haga clic en el botón <code>Editar</code>.</p>
      <img src="./img/path-variable.png" alt="path-variable.png">
      <p>Agregue el directorio <code>PHP</code> al final del valor de la variable <code>PATH</code>.</p>
      <p><code>C:\PHP</code></p>
      <img src="./img/PHP-path-variable.png" alt="PHP-path-variable.png">
      <p>Abra la aplicación del explorador de Windows y acceda a la carpeta <code>PHP</code>.</p>
      <p>Localice el archivo denominado <code>PHP.INI-PRODUCTION</code>.</p>
      <img src="./img/php-ini-production.png" alt="php-ini-production.png">
      <p>Cambie el nombre de <code>PHP.INI-PRODUCTION</code> a
        <code>PHP.INI</code>.
      </p>
      <p>Edite el archivo llamado <code>PHP.INI</code>.</p>
      <p>Aquí está el archivo original, antes de nuestra configuración:</p>
      <div class="fons-gris">
        <code>
              ; date.timezone = <br>
              ; fastcgi.impersonate = 1<br>
              ; cgi.fix_pathinfo=1<br>
              ; cgi.force_redirect = 1<br>
              ; extension_dir = "ext"<br>
              ; extension=bz2<br>
              ; extension=curl<br>
              ; extension=gd2<br>
              ; extension=ldap<br>
              ; extension=mbstring<br>
              ; extension=mysqli<br>
              ; extension=openssl<br>
              </code>
      </div>
      <p>Aquí está el archivo, después de nuestra configuración.</p>
      <p>Tenga en cuenta que su archivo de <code>zona horaria</code> puede no ser el mismo mío.
      </p>
      <div class="fons-gris">
        <code>date.timezone = America/Sao_Paulo<br>
                fastcgi.impersonate = 1<br>
                cgi.fix_pathinfo=1<br>
                cgi.force_redirect = 0<br>
                extension_dir = "ext"<br>
                extension=bz2<br>
                extension=curl<br>
                extension=gd2<br>
                extension=ldap<br>
                extension=mbstring<br>
                extension=mysqli<br>
                extension=openssl<br>
              </code>
      </div>
      <p>Pruebe la instalación de <code>PHP</code>.</p>
      <p>Abra un símbolo del sistema de DOS y escriba el siguiente comando.</p>
      <div class="fons-gris">
        <code>C:\> php -info<br>
                phpinfo()<br>
                PHP Version => 7.2.9<br>
                System => Windows NT TECH-DC01 6.3 build 9600 (Windows Server 2012 R2 Standard dition) i586<br>
                Build Date => Aug 15 2018 23:05:53<br>
                Compiler => MSVC15 (Visual C++ 2017)<br>
                Architecture => x86<br>
              </code>
      </div>
      <h2 class="fons-gris">¡Felicitaciones! ha instalado <code>PHP</code> en el servidor Windows.
      </h2>
      <br>
      <hr>
      <br>
      <h2>Tutorial - Instalación de <code>IIS</code> en Windows</h2>
      <p>Abra la aplicación <code>Administrador del servidor</code>.</p>
      <p>Acceda al menú <code>Administrar</code> y haga clic en
        <code>Agregar roles y características</code>.
      </p>
      <img src="./img/Windows-2012-add-role.png" alt="Windows-2012-add-role.png">
      <p>Acceda a la pantalla <code>Roles de servidor</code>, seleccione la opción
        <code>Servidor web (<strong>IIS</strong>)</code> y haga clic
        en el botón <code>Siguiente</code>.
      </p>
      <img src="./img/IIS-Installation.png" alt="IIS-Installation.png">
      <p>En la siguiente pantalla, haga clic en el botón <code>Agregar características</code>.</p>
      <img src="./img/IIS-Features.png" alt="IIS-Features.png">
      <p>En la pantalla del servicio <code>IIS</code> , seleccione la opción <code>CGI</code> y
        finalice la
        instalación.</p>
      <img src="./img/IIS-enable-CGI.png" alt="IIS-enable-CGI.png">
      <p>El servidor <code>IIS</code> se instaló en su computadora, pero todavía necesitamos
        configurar la
        integración <code>PHP</code>.</p>
      <p>Abra la aplicación del administrador de <code>IIS</code> y acceda a la opción
        <code>Asignaciones de controlador</code>.
      </p>
      <img src="./img/IIS-Handles-Mappings.png" alt="IIS-Handles-Mappings.png">
      <p>En la parte derecha de la pantalla, seleccione la opción denominada:
        <code>Agregar asignación de módulos</code>.
      </p>
      <p>En la pantalla <code>Asignación de módulos</code>, deberá introducir la siguiente
        información:</p>
      • <b>Request Path</b> - <code>*.php</code><br>
      • <b>Module</b> - <code>FastCGIModule</code><br>
      • <b>Executable</b> - <code>C:\php\php-cgi.exe</code><br>
      • <b>Name</b> - <code>PHP</code><br>
      <img src="./img/PHP-Module-IIS.png" alt="PHP-Module-IIS.png">
      <p>Haga clic en el botón denominado: <code>Solicitar restricciones</code>.</p>
      <p>Seleccione la opción <code>Archivo o Carpeta</code> y haga clic en el botón
        <code>Aceptar</code>.
      </p>
      <img src="./img/IIS-PHP-Request-Restrictions.png" alt="IIS-PHP-Request-Restrictions.png">
      <p>Haga clic en el botón <code>Aceptar</code>.</p>
      <p>Si se presenta el siguiente mensaje, haga clic en el botón <code>Sí</code>.</p>
      <img src="./img/IIS-Module-mapping.png" alt="IIS-Module-mapping.png">
      <p>Ahora, necesitamos configurar <code>IIS</code> para aceptar <code>index.php</code> como una
        página
        predeterminada.
      </p>
      <p>Abra la aplicación del administrador de <code>IIS</code> y acceda a la opción
        <code>Documento predeterminado</code>.
      </p>
      <img src="./img/IIS-default-page-PHP.png" alt="IIS-default-page-PHP.png">
      <p>En la parte derecha de la pantalla, seleccione la opción denominada: <code>Añadir...</code></p>
      <p>En la ventana <code>Agregar documento predeterminado</code>, deberá introducir la siguiente
        información:
        <code>index.php</code>
      </p>
      <img src="./img/IIS-PHP-support.png" alt="IIS-PHP-support.png">
      <p>Para finalizar la instalación, debe reiniciar el servicio <code>IIS</code> .</p>
      <p>Haga clic con el botón derecho en el nombre del servidor en la parte superior izquierda de
        la pantalla y seleccione la opción <code>Detener</code>.</p>
      <img src="./img/IIS-stop.png" alt="IIS-stop.png">
      <p>Haga clic con el botón derecho en el nombre del servidor en la parte superior izquierda de
        la pantalla y seleccione la opción <code>Iniciar</code>.</p>
      <img src="./img/IIS-start.png" alt="IIS-start.png">
      <h2 class="fons-gris">¡Felicitaciones! Ha instalado <code>PHP</code> en el servidor Windows.</h2>
      <p>El servidor <code>IIS</code> ahora es compatible con el uso de <code>PHP</code>.</p>
      <h2>Prueba de la instalación de <code>PHP</code> en Windows <code>IIS</code> </h2>
      <p>Abra la aplicación del bloc de notas y cree un documento denominado <code>test.php</code></p>
      <p>Este documento se debe colocar dentro de la carpeta <code>C:\inetpub\wwwroot</code>.</p>
      <div class="fons-gris">
        <code>
                  &nbsp;&lt;?php<br>
                  &nbsp;&nbsp;&nbsp;phpinfo();<br>
                  &nbsp;?>
                </code>
      </div>
      <p>Abra el explorador e introduzca la dirección IP del servidor web <code>IIS</code> más
        <code>/test.php</code>
      </p>
      <p>En nuestro ejemplo, se introdujo la siguiente URL en el navegador:</p>
      <code><p>http://</code><b>&lt;laIpDelServidor></b><code>/test.php</p></code>
      <p>Se debe presentar el siguiente contenido.</p>
      <img src="./img/php-configuration-file.png" alt="php-configuration-file.png">
      <p>La instalación de <code>PHP</code> en <code>IIS</code> se ha probado correctamente.</p>
      <h2><a href="./mp07-uf04-20230525.html">Torna a l'enunciat de l'examen!</a></h2>
    </article>
  </main>
</body>

</html>